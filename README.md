# Godwoken Examples

## Install dependencies & Build

```bash
yarn && yarn run build-all
```

## Update Tools Configs

Firstly copy config files.

```bash
export SCRIPT_DEPLOY_RESULT_PATH=<your godwoken `scripts-deploy-result.json`>
export GODWOKEN_CONFIG_PATH=<your godwoken `config.toml`>
yarn run copy-configs
```

Or copy by yourself.

```bash
cp <your godwoken `scripts-deploy-result.json`> packages/tools/configs/scripts-deploy-result.json
cp <your godwoken `config.toml`> packages/tools/configs/godwoken-config.toml
# convert `godwoken-config.toml` to `godwoken-config.json`
yarn run convert-config-format
```

For testnet

```bash
yarn run generate-testnet-configs
```

## Generate your lumos config

If run dev chain, lumos config should generated by yourself, and [this tool](https://github.com/classicalliu/lumos-config-generator) may help you.

For example, in linux system
```bash
wget https://github.com/classicalliu/lumos-config-generator/releases/download/v0.1.1/lumos-config-generator-linux-amd64 -O lumos-config-generator
chmod +x ./lumos-config-generator
./lumos-config-generator
# `config.json` is the generated lumos config file.
```

## Account operations

Run `node ./packages/tools/lib/account-cli.js --help` to see how to `deposit`, `deposit-sudt`, `transfer`, `withdraw` and `get-balance`.

```bash
LUMOS_CONFIG_FILE=<your lumos config file path> node ./packages/tools/lib/account-cli.js --help # for devnet
node ./packages/tools/lib/account-cli.js --help # for testnet
```

### Notes

If you switched to a new CKB chain, you should switch to a new indexer path `--indexer-path <your new path>` or just delete `indexer-data` dir.

## Polyjuice CLI

Run `node ./packages/tools/lib/polyjuice-cli.js --help` to see how to `creator creator account`, `deploy contract`, `call contract`.

```bash
node ./packages/tools/lib/polyjuice-cli.js --help # for devnet
ENABLE_TESTNET_MODE=true node ./packages/tools/lib/polyjuice-cli.js --help # for testnet
```
